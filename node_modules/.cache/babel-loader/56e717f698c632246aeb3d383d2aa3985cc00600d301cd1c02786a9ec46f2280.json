{"ast":null,"code":"// services/api.js\nimport axios from 'axios';\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5000/api'\n});\n\n// Add token to requests\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Auth services\nexport const signIn = async (email, password) => {\n  const response = await api.post('/auth/signin', {\n    email,\n    password\n  });\n  return response.data;\n};\nexport const signUp = async (email, password, username) => {\n  const response = await api.post('/auth/signup', {\n    email,\n    password,\n    username\n  });\n  return response.data;\n};\nexport const signOut = async () => {\n  const response = await api.post('/auth/signout');\n  localStorage.removeItem('token');\n  return response.data;\n};\n\n// Product services\nexport const getProducts = async () => {\n  const response = await api.get('/products');\n  return response.data;\n};\nexport const createProduct = async productData => {\n  const response = await api.post('/products', productData);\n  return response.data;\n};\nexport const toggleLike = async productId => {\n  const response = await api.post(`/products/${productId}/like`);\n  return response.data;\n};\nexport const toggleDislike = async productId => {\n  const response = await api.post(`/products/${productId}/dislike`);\n  return response.data;\n};\n\n// in services/api.js\nexport const updateProductRating = async (productId, {\n  action,\n  userId\n}) => {\n  const response = await fetch(`/api/products/${productId}/rating`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      action,\n      userId\n    })\n  });\n  if (!response.ok) {\n    throw new Error('Failed to update rating');\n  }\n  return response.json();\n};\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","signIn","email","password","response","post","data","signUp","username","signOut","removeItem","getProducts","get","createProduct","productData","toggleLike","productId","toggleDislike","updateProductRating","action","userId","fetch","method","body","JSON","stringify","ok","Error","json"],"sources":["/home/dell/market360/frontend/src/services/api.js"],"sourcesContent":["// services/api.js\nimport axios from 'axios';\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5000/api'\n});\n\n// Add token to requests\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Auth services\nexport const signIn = async (email, password) => {\n  const response = await api.post('/auth/signin', { email, password });\n  return response.data;\n};\n\nexport const signUp = async (email, password, username) => {\n  const response = await api.post('/auth/signup', { email, password, username });\n  return response.data;\n};\n\nexport const signOut = async () => {\n  const response = await api.post('/auth/signout');\n  localStorage.removeItem('token');\n  return response.data;\n};\n\n// Product services\nexport const getProducts = async () => {\n  const response = await api.get('/products');\n  return response.data;\n};\n\nexport const createProduct = async (productData) => {\n  const response = await api.post('/products', productData);\n  return response.data;\n};\n\nexport const toggleLike = async (productId) => {\n  const response = await api.post(`/products/${productId}/like`);\n  return response.data;\n};\n\nexport const toggleDislike = async (productId) => {\n  const response = await api.post(`/products/${productId}/dislike`);\n  return response.data;\n};\n\n// in services/api.js\nexport const updateProductRating = async (productId, { action, userId }) => {\n  const response = await fetch(`/api/products/${productId}/rating`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ action, userId }),\n  });\n  \n  if (!response.ok) {\n    throw new Error('Failed to update rating');\n  }\n  \n  return response.json();\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}